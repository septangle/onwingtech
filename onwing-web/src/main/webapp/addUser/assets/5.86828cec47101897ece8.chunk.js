webpackJsonp([5],{149:function(e,t,a){"use strict";function o(e){s||a(188)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(190),l=a.n(r),d=a(191),i=a.n(d),s=!1,n=a(3),u=o,m=n(l.a,i.a,!1,u,"data-v-bd06db10",null);m.options.__file="src/views/household/info.vue",m.esModule&&Object.keys(m.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),t.default=m.exports},153:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="//127.0.0.1:8080/";t.default={ServerHost:o,login:"//127.0.0.1:8080/onwing-web/adminiStator/login.do",findAllHouseHold:"//127.0.0.1:8080/onwing-web/household/findAllHouseHold.do",updateHouseHold:"//127.0.0.1:8080/onwing-web/household/updateHouseHold.do",addHouseHold:"//127.0.0.1:8080/onwing-web/household/addHouseHold.do",removeHouseHold:"//127.0.0.1:8080/onwing-web/household/removeHouseHold.do",findAllAccessRecord:"//127.0.0.1:8080/onwing-web/accessRecord/findAllAccessRecord.do",uploadPhotos:"//127.0.0.1:8080/onwing-web/addphotos/uploadPhotos.do"}},188:function(e,t,a){var o=a(189);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(6)("75531e2a",o,!1)},189:function(e,t,a){t=e.exports=a(5)(void 0),t.push([e.i,"\n.validateMain[data-v-bd06db10] {\n}\n.validateMain[data-v-bd06db10]:before,\n.validateMain[data-v-bd06db10]::after {\n  content: '';\n  display: table;\n  clear: both;\n}\n.photoView[data-v-bd06db10] {\n  float: left;\n  width: 150px;\n  height: 100px;\n}\n.photoView img[data-v-bd06db10] {\n  width: 100%;\n}\n.validateView[data-v-bd06db10] {\n  margin-left: 20px;\n  float: left;\n  width: 30%;\n}\n",""])},190:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(23),l=o(r),d=a(153),i=o(d);t.default={name:"household_info",data:function(){return{formValidate:{cardNumber:"",householdName:"",tel:"",gender:"",buildingblockNumber:"",roomNumber:"",remarks:"",photoId:"",id:""},photoUrl:"",baseUrl:i.default.ServerHost+"onwing-web/",ruleValidate:{cardnumber:[{required:!1}],householdName:[{required:!0,message:"请输入住户姓名",trigger:"blur"},{type:"string",min:1,message:"姓名格式错误",trigger:"blur"}],tel:[{required:!0,message:"请输入联系电话",trigger:"blur"},{type:"string",min:7,message:"联系电话格式错误",trigger:"blur"}],gender:[{required:!0,message:"Please select gender",trigger:"change"}],buildingblockNumber:[{required:!0,message:"请输入楼号/单元号",trigger:"blur"}],roomNumber:[{required:!0,message:"请输入房号",trigger:"blur"}],remarks:[{required:!1,message:"Please enter a personal introduction",trigger:"blur"},{type:"string",min:0,max:200,message:"备注信息超过字数",trigger:"blur"}]}}},methods:{init:function(){var e=this.$route.params;this.formValidate=e,this.formValidate.cardNumber=e.cardNumber,this.formValidate.householdName=e.householdName,this.formValidate.tel=e.tel,this.formValidate.gender=e.gender,this.formValidate.buildingblockNumber=e.buildingblockNumber,this.formValidate.roomNumber=e.roomNumber,this.formValidate.remarks=e.remarks,this.formValidate.photoId=e.photoId,this.formValidate.id=e.id,e.photoUrl?this.photoUrl=e.photoUrl:e.photoUrl||("男"==e.gender?this.photoUrl="image/avatars-man.png":"女"==e.gender&&(this.photoUrl="image/avatars-woman.png"))},handleSubmit:function(e){var t=this,a={};a.householdDto={},this.$refs[e].validate(function(e){e?(a.householdDto.id=t.formValidate.id,a.householdDto.gender=t.formValidate.gender,a.householdDto.tel=t.formValidate.tel,a.householdDto.householdName=t.formValidate.householdName,a.householdDto.remarks=t.formValidate.remarks,l.default.post(i.default.updateHouseHold,a).then(function(e){var a=e.data;null==a.error?t.$Message.success("住户信息更新成功!"):t.$Message.error(a.error.message)})):t.$Message.error("请检查是否有信息未填写!")})},handleReset:function(e){this.$refs[e].resetFields()}},created:function(){this.init()},activated:function(){}}},191:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"validateMain"},[a("div",{staticClass:"photoView"},[a("img",{attrs:{src:e.baseUrl+e.photoUrl}})]),e._v(" "),a("div",{staticClass:"validateView"},[a("Form",{ref:"formValidate",staticClass:"formstyle",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"门禁卡号",prop:"cardNumber"}},[a("Input",{attrs:{disabled:""},model:{value:e.formValidate.cardNumber,callback:function(t){e.$set(e.formValidate,"cardNumber",t)},expression:"formValidate.cardNumber"}})],1),e._v(" "),a("FormItem",{attrs:{label:"住户姓名",prop:"householdName"}},[a("Input",{attrs:{placeholder:"请输入住户姓名"},model:{value:e.formValidate.householdName,callback:function(t){e.$set(e.formValidate,"householdName",t)},expression:"formValidate.householdName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"联系电话",prop:"tel"}},[a("Input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.formValidate.tel,callback:function(t){e.$set(e.formValidate,"tel",t)},expression:"formValidate.tel"}})],1),e._v(" "),a("FormItem",{attrs:{label:"性别",prop:"gender"}},[a("RadioGroup",{model:{value:e.formValidate.gender,callback:function(t){e.$set(e.formValidate,"gender",t)},expression:"formValidate.gender"}},[a("Radio",{attrs:{label:"男"}},[e._v("男")]),e._v(" "),a("Radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"楼号/单元号",prop:"buildingblockNumber"}},[a("Input",{attrs:{disabled:""},model:{value:e.formValidate.buildingblockNumber,callback:function(t){e.$set(e.formValidate,"buildingblockNumber",t)},expression:"formValidate.buildingblockNumber"}})],1),e._v(" "),a("FormItem",{attrs:{label:"房号",prop:"roomNumber"}},[a("Input",{attrs:{disabled:""},model:{value:e.formValidate.roomNumber,callback:function(t){e.$set(e.formValidate,"roomNumber",t)},expression:"formValidate.roomNumber"}})],1),e._v(" "),a("FormItem",{attrs:{label:"备注",prop:"remarks"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"备注信息不要超过200字"},model:{value:e.formValidate.remarks,callback:function(t){e.$set(e.formValidate,"remarks",t)},expression:"formValidate.remarks"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("修改")])],1)],1)],1)])},r=[];o._withStripped=!0;var l={render:o,staticRenderFns:r};t.default=l}});